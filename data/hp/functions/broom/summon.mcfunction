execute as @s[scores={broomType=4}] at @s run summon armor_stand ~ ~ ~ {CustomName:'{"text":"Cleansweep One"}',Team:"noCollision",ActiveEffects:[{Id:28b,Amplifier:20b,Duration:19999980,ShowParticles:0b}],DisabledSlots:4144959,Silent:1b,NoGravity:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["broomVisual","broomVisualBeingSpawned","broom"],Passengers:[{id:"minecraft:pig",NoGravity:1b,Silent:1b,Attributes:[{Name:generic.max_health,Base:0}],Invulnerable:1b,NoAI:1b,Saddle:1b,Team:"noCollision",Tags:["broomSaddle","broomSaddleBeingSpawned","broom"],ActiveEffects:[{Id:14b,Amplifier:1b,Duration:19999980,ShowParticles:0b}]}],Pose:{Head:[0f,0f,0.00001f]},ArmorItems:[{},{},{},{id:"minecraft:stick",Count:1b,tag:{CustomModelData:6004,Unbreakable:1b}}]}
execute as @s[scores={broomType=5}] at @s run summon armor_stand ~ ~ ~ {CustomName:'{"text":"Cleansweep Two"}',Team:"noCollision",ActiveEffects:[{Id:28b,Amplifier:20b,Duration:19999980,ShowParticles:0b}],DisabledSlots:4144959,Silent:1b,NoGravity:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["broomVisual","broomVisualBeingSpawned","broom"],Passengers:[{id:"minecraft:pig",NoGravity:1b,Silent:1b,Attributes:[{Name:generic.max_health,Base:0}],Invulnerable:1b,NoAI:1b,Saddle:1b,Team:"noCollision",Tags:["broomSaddle","broomSaddleBeingSpawned","broom"],ActiveEffects:[{Id:14b,Amplifier:1b,Duration:19999980,ShowParticles:0b}]}],Pose:{Head:[0f,0f,0.00001f]},ArmorItems:[{},{},{},{id:"minecraft:stick",Count:1b,tag:{CustomModelData:6005,Unbreakable:1b}}]}
execute as @s[scores={broomType=6}] at @s run summon armor_stand ~ ~ ~ {CustomName:'{"text":"Cleansweep Three"}',Team:"noCollision",ActiveEffects:[{Id:28b,Amplifier:20b,Duration:19999980,ShowParticles:0b}],DisabledSlots:4144959,Silent:1b,NoGravity:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["broomVisual","broomVisualBeingSpawned","broom"],Passengers:[{id:"minecraft:pig",NoGravity:1b,Silent:1b,Attributes:[{Name:generic.max_health,Base:0}],Invulnerable:1b,NoAI:1b,Saddle:1b,Team:"noCollision",Tags:["broomSaddle","broomSaddleBeingSpawned","broom"],ActiveEffects:[{Id:14b,Amplifier:1b,Duration:19999980,ShowParticles:0b}]}],Pose:{Head:[0f,0f,0.00001f]},ArmorItems:[{},{},{},{id:"minecraft:stick",Count:1b,tag:{CustomModelData:6006,Unbreakable:1b}}]}
execute as @s[scores={broomType=23}] at @s run summon armor_stand ~ ~ ~ {CustomName:'{"text":"Nimbus 2000"}',Team:"noCollision",ActiveEffects:[{Id:28b,Amplifier:20b,Duration:19999980,ShowParticles:0b}],DisabledSlots:4144959,Silent:1b,NoGravity:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["broomVisual","broomVisualBeingSpawned","broom"],Passengers:[{id:"minecraft:pig",NoGravity:1b,Silent:1b,Attributes:[{Name:generic.max_health,Base:0}],Invulnerable:1b,NoAI:1b,Saddle:1b,Team:"noCollision",Tags:["broomSaddle","broomSaddleBeingSpawned","broom"],ActiveEffects:[{Id:14b,Amplifier:1b,Duration:19999980,ShowParticles:0b}]}],Pose:{Head:[0f,0f,0.00001f]},ArmorItems:[{},{},{},{id:"minecraft:stick",Count:1b,tag:{CustomModelData:6023,Unbreakable:1b}}]}
execute as @s[scores={broomType=24}] at @s run summon armor_stand ~ ~ ~ {CustomName:'{"text":"Nimbus 2001"}',Team:"noCollision",ActiveEffects:[{Id:28b,Amplifier:20b,Duration:19999980,ShowParticles:0b}],DisabledSlots:4144959,Silent:1b,NoGravity:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["broomVisual","broomVisualBeingSpawned","broom"],Passengers:[{id:"minecraft:pig",NoGravity:1b,Silent:1b,Attributes:[{Name:generic.max_health,Base:0}],Invulnerable:1b,NoAI:1b,Saddle:1b,Team:"noCollision",Tags:["broomSaddle","broomSaddleBeingSpawned","broom"],ActiveEffects:[{Id:14b,Amplifier:1b,Duration:19999980,ShowParticles:0b}]}],Pose:{Head:[0f,0f,0.00001f]},ArmorItems:[{},{},{},{id:"minecraft:stick",Count:1b,tag:{CustomModelData:6024,Unbreakable:1b}}]}
execute as @s[scores={broomType=26}] at @s run summon armor_stand ~ ~ ~ {CustomName:'{"text":"Shooting Star"}',Team:"noCollision",ActiveEffects:[{Id:28b,Amplifier:20b,Duration:19999980,ShowParticles:0b}],DisabledSlots:4144959,Silent:1b,NoGravity:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["broomVisual","broomVisualBeingSpawned","broom"],Passengers:[{id:"minecraft:pig",NoGravity:1b,Silent:1b,Attributes:[{Name:generic.max_health,Base:0}],Invulnerable:1b,NoAI:1b,Saddle:1b,Team:"noCollision",Tags:["broomSaddle","broomSaddleBeingSpawned","broom"],ActiveEffects:[{Id:14b,Amplifier:1b,Duration:19999980,ShowParticles:0b}]}],Pose:{Head:[0f,0f,0.00001f]},ArmorItems:[{},{},{},{id:"minecraft:stick",Count:1b,tag:{CustomModelData:6026,Unbreakable:1b}}]}
execute as @s[scores={broomType=16}] at @s run summon armor_stand ~ ~ ~ {CustomName:'{"text":"Firebolt"}',Team:"noCollision",ActiveEffects:[{Id:28b,Amplifier:20b,Duration:19999980,ShowParticles:0b}],DisabledSlots:4144959,Silent:1b,NoGravity:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["broomVisual","broomVisualBeingSpawned","broom"],Passengers:[{id:"minecraft:pig",NoGravity:1b,Silent:1b,Attributes:[{Name:generic.max_health,Base:0}],Invulnerable:1b,NoAI:1b,Saddle:1b,Team:"noCollision",Tags:["broomSaddle","broomSaddleBeingSpawned","broom"],ActiveEffects:[{Id:14b,Amplifier:1b,Duration:19999980,ShowParticles:0b}]}],Pose:{Head:[0f,0f,0.00001f]},ArmorItems:[{},{},{},{id:"minecraft:stick",Count:1b,tag:{CustomModelData:6016,Unbreakable:1b}}]}
execute as @s[scores={broomType=18}] at @s run summon armor_stand ~ ~ ~ {CustomName:'{"text":"Moontrimmer"}',Team:"noCollision",ActiveEffects:[{Id:28b,Amplifier:20b,Duration:19999980,ShowParticles:0b}],DisabledSlots:4144959,Silent:1b,NoGravity:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["broomVisual","broomVisualBeingSpawned","broom"],Passengers:[{id:"minecraft:pig",NoGravity:1b,Silent:1b,Attributes:[{Name:generic.max_health,Base:0}],Invulnerable:1b,NoAI:1b,Saddle:1b,Team:"noCollision",Tags:["broomSaddle","broomSaddleBeingSpawned","broom"],ActiveEffects:[{Id:14b,Amplifier:1b,Duration:19999980,ShowParticles:0b}]}],Pose:{Head:[0f,0f,0.00001f]},ArmorItems:[{},{},{},{id:"minecraft:stick",Count:1b,tag:{CustomModelData:6018,Unbreakable:1b}}]}

execute at @s run summon armor_stand ~ ~ ~ {Tags:["spellEntity","broomElytra","new","broom"],DisabledSlots:4144959,ArmorItems:[{},{},{id:"minecraft:elytra",Count:1b},{}],Invisible:1b,Silent:1b,ActiveEffects:[{Id:28b,Amplifier:20b,Duration:19999980,ShowParticles:0b}]}

summon marker ~ ~ ~ {NoGravity:1b,Tags:["distanceCheck","tmp","new"]}

execute store result score @e[tag=new] broomType run scoreboard players get @s broomType

scoreboard players operation @e[type=marker,tag=distanceCheck,tag=new] broomID = global broomID
scoreboard players operation @e[type=armor_stand,tag=new] broomID = global broomID
scoreboard players operation @e[type=armor_stand,tag=broomVisualBeingSpawned] broomID = global broomID
scoreboard players operation @e[type=pig,tag=broomSaddleBeingSpawned] broomID = global broomID
scoreboard players operation @s broomID = global broomID


scoreboard players add global broomID 1
tag @e[tag=broomVisualBeingSpawned] remove broomVisualBeingSpawned
tag @e[tag=broomSaddleBeingSpawned] remove broomSaddleBeingSpawned
tag @e[tag=new] remove new

kill @s