execute align xyz positioned ~0.5 ~ ~0.5 run summon area_effect_cloud ~ ~ ~ {Age:-2147483648,Duration:-1,WaitTime:-2147483648,Tags:["mendingCharm","brokenGlass","spellEntity"]}

execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:white_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 1
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:orange_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 2
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:magenta_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 3
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:light_blue_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 4
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:yellow_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 5
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:lime_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 6
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:pink_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 7
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:gray_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 8
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:light_gray_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 9
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:cyan_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 10
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:purple_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 11
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:blue_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 12
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:brown_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 13
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:green_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 14
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:red_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 15
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:black_stained_glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 16
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:glass run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 17
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:white_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 18
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:orange_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 19
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:magenta_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 20
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:light_blue_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 21
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:yellow_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 22
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:lime_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 23
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:pink_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 24
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:gray_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 25
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:light_gray_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 26
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:cyan_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 27
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:purple_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 28
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:blue_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 29
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:brown_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 30
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:green_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 31
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:red_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 32
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:black_stained_glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 33
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:glass_pane run scoreboard players set @e[type=area_effect_cloud,tag=brokenGlass,distance=..1,sort=nearest,limit=1] X 34

setblock ~ ~ ~ air destroy

execute if score charmsBreakConnected settings matches 1 if block ~ ~ ~ #hp:glass run setblock ~ ~ ~ air destroy
execute if score charmsBreakConnected settings matches 1 if block ~1 ~ ~ #hp:glass positioned ~1 ~ ~ run function hp:spells/f/finestra_spell/shatter
execute if score charmsBreakConnected settings matches 1 if block ~ ~ ~1 #hp:glass positioned ~ ~ ~1 run function hp:spells/f/finestra_spell/shatter
execute if score charmsBreakConnected settings matches 1 if block ~-1 ~ ~ #hp:glass positioned ~-1 ~ ~ run function hp:spells/f/finestra_spell/shatter
execute if score charmsBreakConnected settings matches 1 if block ~ ~ ~-1 #hp:glass positioned ~ ~ ~-1 run function hp:spells/f/finestra_spell/shatter
execute if score charmsBreakConnected settings matches 1 if block ~ ~1 ~ #hp:glass positioned ~ ~1 ~ run function hp:spells/f/finestra_spell/shatter
execute if score charmsBreakConnected settings matches 1 if block ~ ~-1 ~ #hp:glass positioned ~ ~-1 ~ run function hp:spells/f/finestra_spell/shatter
execute if entity @s[type=area_effect_cloud] run function hp:spells/_base/private/end